<script src="vendor/jquery/jquery.min.js"></script>
<button id="bot"></button>
<script>
    $('#bot').click(() => {
        let validate = null;
        var validEmail = (email) => {
            return new Promise((resolve, reject) => {
                var re =
                    /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                if (re.test(String(email).toLowerCase())) {
                    let requestUrl = 'https://cors-anywhere.herokuapp.com/' +
                        `https://gamalogic.com/emailvrf/?emailid=${email}&apikey=f3eb15399a404281aa1b788b5cdc831c`;
                    $.getJSON(requestUrl, (data) => {
                        if (data.gamalogic_emailid_vrfy[0].is_valid == true) {
                            resolve(true);
                            return true;
                        } else {
                            resolve(false);
                        }
                    });
                } else {
                    resolve(false);
                }
            });
        }
        var interval = async () => {
            validEmail('gabriel@gmail.com').then(response => {
                return response
            }).then(res => {
                validate = res;
            })
        }
        while (validate == null);
        if (validate == true) {
            console.log('true');
        } else {
            console.log('false');
        }
    })
</script>